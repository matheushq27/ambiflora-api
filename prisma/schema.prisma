generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum UserType {
  SUPER_ADMIN
  DEVELOPER
  ADMIN
  USER
}

model Company {
  id             Int      @id @default(autoincrement())
  name           String
  city           String
  state          String
  street         String
  postalCode     Int      @map("postal_code")
  country        String
  locationNumber Int      @map("location_number")
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")
  user           User[]

  @@map("companies")
}

model User {
  id           Int            @id @default(autoincrement())
  name         String
  surname      String
  email        String         @unique
  password     String
  userType     UserType       @default(USER) @map("user_type")
  createdAt    DateTime       @default(now()) @map("created_at")
  updatedAt    DateTime       @updatedAt @map("updated_at")
  companyId    Int?           @map("company_id")
  anmProcesses AnmProcesses[]
  Company      Company?       @relation(fields: [companyId], references: [id], onDelete: Cascade)

  @@map("users")
}

model AnmProcesses {
  id              Int      @id @default(autoincrement())
  number          Int
  year            Int
  userId          Int?
  cardholderName  String   @map("cardholder_name")
  cpfCnpj         String   @map("cpf_cnpj")
  currentPhase    String   @map("current_phase")
  municipalities  String
  requirementType String   @map("requirement_type")
  situation       String
  substances      String
  typesOfUse      String   @map("types_of_use")
  createdAt       DateTime @default(now()) @map("created_at")
  updatedAt       DateTime @updatedAt @map("updated_at")
  User            User?    @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("anm_processes")
}

model MineralCondicaoPropriedadeSolo {
  IDCondicaoPropriedadeSolo String?
  DSCondicaoPropriedadeSolo String?

  @@ignore
}

model MineralDocumentoLegal {
  IDDocumentoLegal String?
  DSDocumentoLegal String?

  @@ignore
}

model MineralEvento {
  IDEvento String?
  DSEvento String?

  @@ignore
}

model MineralFaseProcesso {
  IDFaseProcesso String?
  DSFaseProcesso String?

  @@ignore
}

model MineralMotivoEncerramentoSubstancia {
  IDMotivoEncerramentoSubstancia String?
  DSMotivoEncerramentoSubstancia String?

  @@ignore
}

model MineralMunicipio {
  IDMunicipio String?
  NMMunicipio String?
  SGUF        String?

  @@ignore
}

model MineralPessoa {
  IDPessoa  String  @id
  NRCPFCNPJ String?
  TPPessoa  String?
  NMPessoa  String?

  mineralProcessoPessoa MineralProcessoPessoa[]
  @@ignore
}

model MineralProcesso {
  DSProcesso                      String  @id
  NRProcesso                      String?
  NRAnoProcesso                   String?
  BTAtivo                         String?
  NRNUP                           String?
  IDTipoRequerimento              String?
  IDFaseProcesso                  String?
  IDUnidadeAdministrativaRegional String?
  IDUnidadeProtocolizadora        String?
  DTProtocolo                     String?
  DTPrioridade                    String?
  QTAreaHA                        String?

  @@ignore
}

model MineralProcessoAssociacao {
  DSProcesso          String?
  DSProcessoAssociado String?
  IDTipoAssociacao    String?
  DTAssociacao        String?
  DTDesassociacao     String?
  OBAssociacao        String?

  @@ignore
}

model MineralProcessoDocumentacao {
  DSProcesso      String?
  IDTipoDocumento String?
  DTProtocolo     String?

  @@ignore
}

model MineralProcessoEvento {
  DSProcesso      String?
  IDEvento        String?
  DTEvento        String?
  OBEvento        String?
  DSPublicacaoDOU String?

  @@ignore
}

model MineralProcessoMunicipio {
  DSProcesso  String?
  IDMunicipio String?

  @@ignore
}

model MineralProcessoPessoa {
  DSProcesso                    String?
  IDPessoa                      String
  IDTipoRelacao                 String?
  IDTipoResponsabilidadeTecnica String?
  IDTipoRepresentacaoLegal      String?
  DTPrazoArrendamento           String?
  DTInicioVigencia              String?
  DTFimVigencia                 String?
  MineralPessoa                 MineralPessoa? @relation(fields: [IDPessoa], references: [IDPessoa])
  mineralPessoaIDPessoa         String?
  IdProcessoPessoa              Int            @id @default(autoincrement())
  @@ignore
}

model MineralProcessoPropriedadeSolo {
  DSProcesso                String?
  IDCondicaoPropriedadeSolo String?

  @@ignore
}

model MineralProcessoSubstancia {
  DSProcesso                     String?
  IDSubstancia                   String?
  IDTipoUsoSubstancia            String?
  IDMotivoEncerramentoSubstancia String?
  DTInicioVigencia               String?
  DTFimVigencia                  String?

  @@ignore
}

model MineralProcessoTitulo {
  DSProcesso               String?
  NRTitulo                 String?
  IDDocumentoLegal         String?
  IDTipoDocumentoLegal     String?
  IDSituacaoDocumentoLegal String?
  DTPublicacao             String?
  DTVencimento             String?

  @@ignore
}

model MineralSituacaoDocumentoLegal {
  IDSituacaoDocumentoLegal String?
  DSSituacaoDocumentoLegal String?

  @@ignore
}

model MineralSubstancia {
  IDSubstancia String?
  NMSubstancia String?

  @@ignore
}

model MineralTipoAssociacao {
  IDTipoAssociacao String?
  DSTipoAssociacao String?

  @@ignore
}

model MineralTipoDocumento {
  IDTipoDocumento String?
  DSTipoDocumento String?

  @@ignore
}

model MineralTipoDocumentoLegal {
  IDTipoDocumentoLegal String?
  DSTipoDocumentoLegal String?

  @@ignore
}

model MineralTipoRelacao {
  IDTipoRelacao String?
  DSTipoRelacao String?

  @@ignore
}

model MineralTipoRepresentacaoLegal {
  IDTipoRepresentacaoLegal String?
  DSTipoRepresentacaoLegal String?

  @@ignore
}

model MineralTipoRequerimento {
  IDTipoRequerimento String?
  DSTipoRequerimento String?

  @@ignore
}

model MineralTipoResponsabilidadeTecnica {
  IDTipoResponsabilidadeTecnica String?
  DSTipoResponsabilidadeTecnica String?

  @@ignore
}

model MineralTipoUsoSubstancia {
  IDTipoUsoSubstancia String?
  DSTipoUsoSubstancia String?

  @@ignore
}

model MineralUnidadeAdministrativaRegional {
  IDUnidadeAdministrativaRegional String?
  DSUnidadeAdministrativaRegional String?

  @@ignore
}

model MineralUnidadeProtocolizadora {
  IDUnidadeProtocolizadora String?
  DSUnidadeProtocolizadora String?

  @@ignore
}
